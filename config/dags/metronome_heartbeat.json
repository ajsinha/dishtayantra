{
  "name": "heartbeat_monitor",
  "start_time": null,
  "end_time": null,
  "subscribers": [
    {
      "name": "heartbeat_subscriber_1",
      "config": {
        "source": "metronome",
        "message": "heartbeat",
        "interval": 120
      }
    },
    {
      "name": "heartbeat_subscriber_2",
      "config": {
        "source": "metronome",
        "message": "heartbeat",
        "interval": 60
      }
    },
    {
      "name": "heartbeat_subscriber_3",
      "config": {
        "source": "metronome",
        "message": "heartbeat",
        "interval": 30
      }
    },
    {
      "name": "composite_heartbeat_subscriber",
      "config": {
        "source": "fanin://heartbeat_subscriber_1,heartbeat_subscriber_2,heartbeat_subscriber_3"
      }
    }
  ],
  "publishers": [
    {
      "name": "heartbeat_publisher",
      "config": {
        "destination": "mem://topic/heartbeat_topic"
      }
    },
    {
      "name": "heartbeat_log",
      "config": {
        "destination": "file:///tmp/log/dagserver/heartbeat.jsonl"
      }
    }
  ],
  "calculators": [
    {
      "name": "heartbeat_enrichment",
      "type": "ApplyDefaultsCalculator",
      "config": {
        "defaults": {
          "dag_name": "heartbeat_monitor",
          "status": "healthy"
        }
      }
    },
    {
      "name": "random_calculator",
      "type": "core.calculator.random_calculator.RandomCalculator",
      "config": {
      }
    }
  ],
  "transformers": [],
  "nodes": [
    {
      "name": "metronome_node",
      "type": "MetronomeNode",
      "config": {
        "interval": 60
      },
      "subscriber": "heartbeat_subscriber_3",
      "publishers": ["heartbeat_publisher", "heartbeat_log"],
      "calculator": "heartbeat_enrichment"
    },
    {
      "name": "random_calculator_node",
      "type": "CalculationNode",
      "config": {},
      "calculator": "random_calculator"

    }
  ],
  "edges": [
    {"from_node": "metronome_node", "to_node": "random_calculator_node"}
  ]
}